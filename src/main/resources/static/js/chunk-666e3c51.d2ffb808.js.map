{"version":3,"sources":["webpack:///./src/components/PageHeader/index.vue?78ca","webpack:///./src/views/admin/channel/index.vue?8351","webpack:///./src/components/PageHeader/index.vue?0dcf","webpack:///src/components/PageHeader/index.vue","webpack:///./src/components/PageHeader/index.vue?07f8","webpack:///./src/components/PageHeader/index.vue","webpack:///./src/views/admin/channel/index.vue?6c8e","webpack:///src/views/admin/channel/index.vue","webpack:///./src/views/admin/channel/index.vue?d6fb","webpack:///./src/views/admin/channel/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","management","_t","staticRenderFns","props","String","component","attrs","on","showAddModal","columns","data","loading","defaultPageSize","scopedSlots","_u","key","fn","avatar","staticStyle","record","$event","showEditModal","showDeleteConfirm","visible_add","confirmLoading_add","handleAddOk","handleAddCancel","add_form","span","directives","name","rawName","value","rules","required","message","validateTrigger","expression","$refs","modal","edit","img","visible_edit","confirmLoading_edit","handleEditOk","handleEditCancel","edit_form","ref","setImg","$form","createForm","components","pageHeader","AvatarModal","mounted","getList","methods","url","$message","success","error","method","validateFields","err","channelName","values","channelAvatar","channelDescription","description","channel","res","$nextTick","setTimeout","channelId","setFieldsValue","$confirm","title","okText","okType","cancelText","onOk","_this"],"mappings":"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","file":"js/chunk-666e3c51.d2ffb808.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6c3573fa&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=52a4cae6&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page-header-wrap\"},[_c('div',{staticClass:\"header-content\"},[_c('div',[_c('a-breadcrumb',[_c('a-breadcrumb-item',[_vm._v(\"主页\")]),_c('a-breadcrumb-item',[_vm._v(_vm._s(_vm.management))])],1)],1),_c('div',{staticClass:\"header-heading\"},[_c('span',{staticClass:\"header-heading-title\"},[_vm._v(_vm._s(_vm.management))])]),_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"page-header-wrap\">\n      <div class=\"header-content\">\n        <div>\n          <a-breadcrumb>\n            <a-breadcrumb-item>主页</a-breadcrumb-item>\n            <a-breadcrumb-item>{{ management }}</a-breadcrumb-item>\n          </a-breadcrumb>\n        </div>\n        <div class=\"header-heading\">\n          <span class=\"header-heading-title\">{{ management }}</span>\n        </div>\n        <slot></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    management: String,\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.page-header-wrap {\n  background-color: #fff;\n  margin: 0px -15px;\n  .header-content {\n    padding: 10px 24px;\n  }\n  .header-heading {\n    margin-top: 8px;\n    .header-heading-title {\n      color: rgba(0, 0, 0, 0.85);\n      font-weight: 600;\n      font-size: 20px;\n      line-height: 32px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6c3573fa&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6c3573fa&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c3573fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('page-header',{attrs:{\"management\":_vm.management}}),_c('a-card',{staticClass:\"ant-card-body\"},[_c('a-button',{staticClass:\"add-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showAddModal}},[_c('a-icon',{attrs:{\"type\":\"plus\"}}),_vm._v(\"新建 \")],1),_c('a-table',{attrs:{\"columns\":_vm.columns,\"data-source\":_vm.data,\"rowKey\":\"channelId\",\"loading\":_vm.loading,\"pagination\":{ defaultPageSize: 6 }},scopedSlots:_vm._u([{key:\"avatar\",fn:function(avatar){return _c('div',{},[_c('img',{staticStyle:{\"height\":\"60px\"},attrs:{\"src\":avatar,\"alt\":\"图片没了\"}})])}},{key:\"action\",fn:function(record){return _c('span',{},[_c('a',{on:{\"click\":function($event){return _vm.showEditModal(record)}}},[_vm._v(\"修改\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{on:{\"click\":function($event){return _vm.showDeleteConfirm(record)}}},[_vm._v(\"删除\")])],1)}}])})],1),_c('a-modal',{attrs:{\"title\":\"新建栏目\",\"visible\":_vm.visible_add,\"confirm-loading\":_vm.confirmLoading_add},on:{\"ok\":_vm.handleAddOk,\"cancel\":_vm.handleAddCancel}},[_c('a-form',{attrs:{\"form\":_vm.add_form,\"labelCol\":{ span: 4 },\"wrapperCol\":{ span: 16 }}},[_c('a-form-item',{attrs:{\"label\":\"栏目名称:\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'channelName',\n            {\n              rules: [{ required: true, message: '请输入名称' }],\n              validateTrigger: ['change', 'blur'],\n            } ]),expression:\"[\\n            'channelName',\\n            {\\n              rules: [{ required: true, message: '请输入名称' }],\\n              validateTrigger: ['change', 'blur'],\\n            },\\n          ]\"}],attrs:{\"placeholder\":\"栏目名称\"}})],1),_c('a-form-item',{attrs:{\"label\":\"上传封面:\"}},[_c('div',{staticClass:\"ant-upload-preview\",on:{\"click\":function($event){return _vm.$refs.modal.edit(_vm.img)}}},[_c('div',{staticClass:\"mask\"},[_c('a-icon',{attrs:{\"type\":\"cloud-upload-o\"}})],1),_c('img',{attrs:{\"src\":_vm.img}})])]),_c('a-form-item',{attrs:{\"label\":\"栏目描述:\"}},[_c('a-textarea',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['description']),expression:\"['description']\"}],attrs:{\"rows\":4,\"placeholder\":\"栏目描述\"}})],1)],1)],1),_c('a-modal',{attrs:{\"title\":\"编辑栏目\",\"visible\":_vm.visible_edit,\"confirm-loading\":_vm.confirmLoading_edit},on:{\"ok\":_vm.handleEditOk,\"cancel\":_vm.handleEditCancel}},[_c('a-form',{attrs:{\"form\":_vm.edit_form,\"labelCol\":{ span: 4 },\"wrapperCol\":{ span: 16 }}},[_c('a-form-item',{attrs:{\"label\":\"栏目id:\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['channelId']),expression:\"['channelId']\"}],attrs:{\"disabled\":\"disabled\"}})],1),_c('a-form-item',{attrs:{\"label\":\"栏目名称:\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'channelName',\n            {\n              rules: [{ required: true, message: '请输入名称' }],\n              validateTrigger: ['change', 'blur'],\n            } ]),expression:\"[\\n            'channelName',\\n            {\\n              rules: [{ required: true, message: '请输入名称' }],\\n              validateTrigger: ['change', 'blur'],\\n            },\\n          ]\"}],attrs:{\"placeholder\":\"栏目名称\"}})],1),_c('a-form-item',{attrs:{\"label\":\"上传封面:\"}},[_c('div',{staticClass:\"ant-upload-preview\",on:{\"click\":function($event){return _vm.$refs.modal.edit(_vm.img)}}},[_c('div',{staticClass:\"mask\"},[_c('a-icon',{attrs:{\"type\":\"cloud-upload-o\"}})],1),_c('img',{attrs:{\"src\":_vm.img}})])]),_c('a-form-item',{attrs:{\"label\":\"栏目描述:\"}},[_c('a-textarea',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['channelDescription']),expression:\"['channelDescription']\"}],attrs:{\"rows\":4,\"placeholder\":\"栏目描述\"}})],1)],1)],1),_c('avatar-modal',{ref:\"modal\",attrs:{\"CropWidth\":200},on:{\"ok\":_vm.setImg}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <page-header :management=\"management\" />\n    <a-card class=\"ant-card-body\">\n      <a-button class=\"add-btn\" type=\"primary\" @click=\"showAddModal\">\n        <a-icon type=\"plus\" />新建\n      </a-button>\n      <a-table\n        :columns=\"columns\"\n        :data-source=\"data\"\n        rowKey=\"channelId\"\n        :loading=\"loading\"\n        :pagination=\"{ defaultPageSize: 6 }\"\n      >\n        <div slot=\"avatar\" slot-scope=\"avatar\">\n          <img :src=\"avatar\" alt=\"图片没了\" style=\"height: 60px\" />\n        </div>\n\n        <span slot=\"action\" slot-scope=\"record\">\n          <a @click=\"showEditModal(record)\">修改</a>\n          <a-divider type=\"vertical\" />\n          <a @click=\"showDeleteConfirm(record)\">删除</a>\n        </span>\n      </a-table>\n    </a-card>\n\n    <!-- 新建栏目对话框 -->\n    <a-modal\n      title=\"新建栏目\"\n      :visible=\"visible_add\"\n      :confirm-loading=\"confirmLoading_add\"\n      @ok=\"handleAddOk\"\n      @cancel=\"handleAddCancel\"\n    >\n      <a-form\n        :form=\"add_form\"\n        :labelCol=\"{ span: 4 }\"\n        :wrapperCol=\"{ span: 16 }\"\n      >\n        <a-form-item label=\"栏目名称:\">\n          <a-input\n            placeholder=\"栏目名称\"\n            v-decorator=\"[\n              'channelName',\n              {\n                rules: [{ required: true, message: '请输入名称' }],\n                validateTrigger: ['change', 'blur'],\n              },\n            ]\"\n          />\n        </a-form-item>\n        <!-- 上传图片 -->\n        <a-form-item label=\"上传封面:\">\n          <div class=\"ant-upload-preview\" @click=\"$refs.modal.edit(img)\">\n            <!-- <a-icon type=\"cloud-upload-o\" class=\"upload-icon\" /> -->\n            <div class=\"mask\">\n              <a-icon type=\"cloud-upload-o\" />\n            </div>\n            <img :src=\"img\" />\n          </div>\n        </a-form-item>\n        <a-form-item label=\"栏目描述:\">\n          <a-textarea\n            :rows=\"4\"\n            placeholder=\"栏目描述\"\n            v-decorator=\"['description']\"\n          />\n        </a-form-item>\n      </a-form>\n    </a-modal>\n\n    <!-- 编辑栏目对话框 -->\n    <a-modal\n      title=\"编辑栏目\"\n      :visible=\"visible_edit\"\n      :confirm-loading=\"confirmLoading_edit\"\n      @ok=\"handleEditOk\"\n      @cancel=\"handleEditCancel\"\n    >\n      <a-form\n        :form=\"edit_form\"\n        :labelCol=\"{ span: 4 }\"\n        :wrapperCol=\"{ span: 16 }\"\n      >\n        <a-form-item label=\"栏目id:\">\n          <a-input disabled=\"disabled\" v-decorator=\"['channelId']\" />\n        </a-form-item>\n        <a-form-item label=\"栏目名称:\">\n          <a-input\n            placeholder=\"栏目名称\"\n            v-decorator=\"[\n              'channelName',\n              {\n                rules: [{ required: true, message: '请输入名称' }],\n                validateTrigger: ['change', 'blur'],\n              },\n            ]\"\n          />\n        </a-form-item>\n        <!-- 上传图片 -->\n        <a-form-item label=\"上传封面:\">\n          <div class=\"ant-upload-preview\" @click=\"$refs.modal.edit(img)\">\n            <div class=\"mask\">\n              <a-icon type=\"cloud-upload-o\" />\n            </div>\n            <img :src=\"img\" />\n          </div>\n        </a-form-item>\n        <a-form-item label=\"栏目描述:\">\n          <a-textarea\n            :rows=\"4\"\n            placeholder=\"栏目描述\"\n            v-decorator=\"['channelDescription']\"\n          />\n        </a-form-item>\n      </a-form>\n    </a-modal>\n\n    <avatar-modal :CropWidth=\"200\" ref=\"modal\" @ok=\"setImg\" />\n  </div>\n</template>\n\n<script>\nimport pageHeader from \"@/components/PageHeader\";\nimport request from \"@/utils/request\";\nimport AvatarModal from \"@/components/AvatarModal\";\n\nconst columns = [\n  {\n    title: \"#\",\n    dataIndex: \"channelId\",\n    key: \"id\",\n  },\n  {\n    title: \"封面\",\n    dataIndex: \"channelAvatar\",\n    key: \"avatar\",\n    scopedSlots: { customRender: \"avatar\" },\n    width: \"15%\",\n  },\n  {\n    title: \"名称\",\n    dataIndex: \"channelName\",\n    key: \"channelName\",\n  },\n  {\n    title: \"描述\",\n    dataIndex: \"channelDescription\",\n    key: \"description\",\n  },\n  {\n    title: \"操作\",\n    key: \"action\",\n    scopedSlots: { customRender: \"action\" },\n    width: \"20%\",\n  },\n];\n\nexport default {\n  data() {\n    this.add_form = this.$form.createForm(this);\n    this.edit_form = this.$form.createForm(this);\n    return {\n      loading: false,\n      management: \"栏目管理\",\n      columns,\n      data: null,\n      // 添加栏目对话框\n      visible_add: false,\n      confirmLoading_add: false,\n      // 编辑栏目对话框\n      visible_edit: false,\n      confirmLoading_edit: false,\n      img: \"\",\n    };\n  },\n  components: {\n    pageHeader,\n    AvatarModal,\n  },\n  mounted() {\n    this.getList();\n  },\n  methods: {\n    setImg(url) {\n      if (url) {\n        this.$message.success(\"上传成功\");\n        // console.log(url);\n        this.img = url;\n      } else {\n        this.$message.error(\"出现未知错误！\");\n      }\n    },\n    // 获取栏目列表\n    getList() {\n      this.loading = true;\n      request({\n        url: \"/channel/list\",\n        method: \"get\",\n      }).then((res) => {\n        this.data = res.data.data;\n        this.loading = false;\n      });\n    },\n    // 添加栏目对话框\n    showAddModal() {\n      this.img = \"/catagory.png\";\n      this.visible_add = true;\n    },\n    handleAddOk() {\n      this.add_form.validateFields((err, values) => {\n        if (!err) {\n          this.confirmLoading_add = true;\n          let channel = {\n            channelName: values.channelName,\n            channelAvatar: this.img,\n            channelDescription: values.description,\n          };\n          request({\n            url: \"/channel/save\",\n            method: \"post\",\n            data: channel,\n          }).then((res) => {\n            if (res.data.data) {\n              this.$message.success(\"添加成功\");\n              this.confirmLoading_add = false;\n              this.visible_add = false;\n              this.add_form.setFieldsValue({\n                channelName: \"\",\n                description: \"\",\n              });\n              this.getList();\n            } else {\n              this.$message.error(\"添加失败\");\n              this.confirmLoading_add = false;\n              this.visible_add = false;\n            }\n          });\n        }\n      });\n    },\n    handleAddCancel() {\n      this.visible_add = false;\n    },\n    // 编辑栏目\n    showEditModal(record) {\n      this.$nextTick(() => {\n        setTimeout(() => {\n          this.edit_form.setFieldsValue({\n            channelId: record.channelId,\n            channelName: record.channelName,\n            channelDescription: record.channelDescription,\n          });\n        }, 100);\n      });\n      this.img = record.channelAvatar;\n      this.visible_edit = true;\n      this.edit_form.setFieldsValue();\n    },\n    handleEditCancel() {\n      this.visible_edit = false;\n    },\n    handleEditOk() {\n      this.edit_form.validateFields((err, values) => {\n        if (!err) {\n          this.confirmLoading_edit = true;\n          let channel = {\n            channelId: values.channelId,\n            channelName: values.channelName,\n            channelAvatar: this.img,\n            channelDescription: values.channelDescription,\n          };\n          // console.log(channel);\n          request({\n            url: \"/channel/update\",\n            method: \"post\",\n            data: channel,\n          }).then((res) => {\n            if (res.data.data) {\n              this.$message.success(\"更新成功\");\n              this.confirmLoading_edit = false;\n              this.visible_edit = false;\n              this.getList();\n            } else {\n              this.$message.error(\"更新失败\");\n              this.confirmLoading_edit = false;\n              this.visible_edit = false;\n            }\n          });\n        }\n      });\n    },\n    // 删除\n    showDeleteConfirm(record) {\n      const _this = this;\n      this.$confirm({\n        title: \"确定删除该栏目?\",\n        okText: \"Yes\",\n        okType: \"danger\",\n        cancelText: \"No\",\n        onOk() {\n          request({\n            url: \"/channel/delete\",\n            method: \"post\",\n            data: { id: record.channelId },\n          }).then((res) => {\n            if (res.data.data) {\n              _this.$message.success(\"删除成功\");\n              _this.getList();\n            } else {\n              _this.$message.error(\"删除失败\");\n            }\n          });\n        },\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.ant-card-body {\n  margin: 15px;\n  .add-btn {\n    margin-top: -10px;\n    margin-bottom: 15px;\n    border-radius: 0;\n  }\n}\n.ant-upload-preview {\n  position: relative;\n  // margin: 0 auto;\n  width: 100%;\n  max-width: 100px;\n  border-radius: 5%;\n  box-shadow: 0 0 4px #ccc;\n  margin-left: 20px;\n  margin-top: 15px;\n\n  .mask {\n    opacity: 0;\n    position: absolute;\n    background: rgba(0, 0, 0, 0.4);\n    cursor: pointer;\n    transition: opacity 0.4s;\n\n    &:hover {\n      opacity: 1;\n    }\n\n    i {\n      font-size: 2rem;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-left: -1rem;\n      margin-top: -1rem;\n      color: #d6d6d6;\n    }\n  }\n\n  img,\n  .mask {\n    width: 100%;\n    max-width: 300px;\n    height: 100%;\n    border-radius: 5%;\n    overflow: hidden;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=52a4cae6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=52a4cae6&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52a4cae6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}