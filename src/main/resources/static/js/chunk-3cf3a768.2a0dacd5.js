(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cf3a768"],{"169e":function(t,e,a){"use strict";a("30d9")},"30d9":function(t,e,a){},"3e31":function(t,e,a){},"711e":function(t,e,a){"use strict";a("eb10")},8367:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header",{attrs:{management:t.management}}),a("a-card",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{bodyStyle:{minHeight:"60vh"},bordered:!1,"tab-list":t.tabListNoTitle,"active-tab-key":t.noTitleKey},on:{tabChange:function(e){return t.onTabChange(e,"noTitleKey")}}},["swiper"===t.noTitleKey?a("sb-swiper"):"link"===t.noTitleKey?a("sb-link"):"message"===t.noTitleKey?a("sb-message"):t._e()],1)],1)},s=[],n=a("af20"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-button",{staticClass:"add-btn",attrs:{type:"primary"},on:{click:t.showModal}},[a("a-icon",{attrs:{type:"plus"}}),t._v("添加链接 ")],1),a("a-table",{attrs:{columns:t.columns,"data-source":t.data,rowKey:"linkId",loading:t.loading,pagination:{defaultPageSize:6}},scopedSlots:t._u([{key:"action",fn:function(e){return a("span",{},[a("a",{on:{click:function(a){return t.showEdit(e)}}},[t._v("修改")]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{title:"确认删除？","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return t.deleteLink(e)}}},[a("a",[t._v("删除")])])],1)}}])}),a("a-modal",{attrs:{title:"添加链接",visible:t.visible},on:{ok:t.handleAdd,cancel:function(e){t.visible=!1}}},[a("a-form",{attrs:{labelCol:{span:4},wrapperCol:{span:16}}},[a("a-form-item",{attrs:{label:"链接名称"}},[a("a-input",{model:{value:t.addName,callback:function(e){t.addName=e},expression:"addName"}})],1),a("a-form-item",{attrs:{label:"url"}},[a("a-input",{model:{value:t.addUrl,callback:function(e){t.addUrl=e},expression:"addUrl"}})],1)],1)],1),a("a-modal",{attrs:{title:"修改链接",visible:t.visible2},on:{ok:t.handleEdit,cancel:function(e){t.visible2=!1}}},[a("a-form",{attrs:{labelCol:{span:4},wrapperCol:{span:16}}},[a("a-form-item",{attrs:{label:"链接名称"}},[a("a-input",{model:{value:t.editName,callback:function(e){t.editName=e},expression:"editName"}})],1),a("a-form-item",{attrs:{label:"url"}},[a("a-input",{model:{value:t.editUrl,callback:function(e){t.editUrl=e},expression:"editUrl"}})],1)],1)],1)],1)},r=[],l=a("b775"),d=[{title:"#",dataIndex:"linkId",key:"linkId"},{title:"链接名称",dataIndex:"linkName",key:"linkName",width:"20%"},{title:"Url",dataIndex:"linkUrl",key:"linkUrl",ellipsis:!0,width:"60%"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],c={data:function(){return{loading:!0,data:[],columns:d,visible:!1,visible2:!1,addName:"",addUrl:"",editId:"",editName:"",editUrl:""}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,Object(l["a"])({url:"/link",method:"post"}).then((function(e){e.data.data&&(t.data=e.data.data,t.loading=!1)}))},showModal:function(){this.visible=!0},showEdit:function(t){this.editId=t.linkId,this.editName=t.linkName,this.editUrl=t.linkUrl,this.visible2=!0},handleEdit:function(){var t=this;if(this.editUrl&&this.editName&&this.editId){var e={linkId:this.editId,linkName:this.editName,linkUrl:this.editUrl};this.$message.loading("请稍等...",0),Object(l["a"])({url:"/link/update",method:"post",data:e}).then((function(e){e.data.data?(t.$message.success("修改成功"),t.visible2=!1,t.getList()):(t.$message.error("操作失败"),t.visible=!1)}))}else this.$message.info("请输入内容")},deleteLink:function(t){var e=this;Object(l["a"])({url:"/link/delete",method:"post",data:t}).then((function(t){t.data.data?(e.$message.success("删除成功"),e.getList()):e.$message.error("操作失败")}))},handleAdd:function(){var t=this;if(this.addName&&this.addUrl){var e={linkName:this.addName,linkUrl:this.addUrl};this.$message.loading("请稍等...",0),Object(l["a"])({url:"/link/save",method:"post",data:e}).then((function(e){e.data.data?(t.$message.success("添加成功"),t.visible=!1,t.getList()):(t.$message.error("操作失败"),t.visible=!1)}))}else this.$message.info("请输入内容")}}},u=c,p=(a("cf8a"),a("2877")),m=Object(p["a"])(u,o,r,!1,null,"946827a6",null),f=m.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-spin",{attrs:{spinning:t.loading,size:"large"}},[a("a-form",{attrs:{labelCol:{span:4},wrapperCol:{span:16}}},[a("a-form-item",{attrs:{label:"轮播图一"}},[a("a-upload",{attrs:{name:"file","before-upload":t.beforeUpload,action:"/api/upload",multiple:!1},on:{change:t.handleChange1}},[a("div",{staticClass:"ant-upload-preview"},[a("div",{staticClass:"mask"},[a("a-icon",{attrs:{type:"cloud-upload-o"}})],1),a("img",{attrs:{src:t.swiper1}})])])],1),a("a-form-item",{attrs:{label:"轮播图二"}},[a("a-upload",{attrs:{name:"file","before-upload":t.beforeUpload,action:"/api/upload",multiple:!1},on:{change:t.handleChange2}},[a("div",{staticClass:"ant-upload-preview"},[a("div",{staticClass:"mask"},[a("a-icon",{attrs:{type:"cloud-upload-o"}})],1),a("img",{attrs:{src:t.swiper2}})])])],1),a("a-form-item",{attrs:{wrapperCol:{offset:5}}},[a("a-button",{staticStyle:{width:"400px"},attrs:{shape:"round",type:"primary"},on:{click:t.save}},[t._v("保存更改 ")]),a("a-button",{staticStyle:{"margin-left":"5px"},attrs:{shape:"round"},on:{click:t.reset}},[t._v("重置 ")])],1)],1)],1)],1)},g=[],b={data:function(){return{loading:!0,swiper1:"",swiper2:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.loading=!0,Object(l["a"])({url:"/config",method:"post"}).then((function(e){e.data.data&&(t.swiper1=e.data.data.swiper1,t.swiper2=e.data.data.swiper2,t.loading=!1)}))},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/webp"===t.type;e||this.$message.error("请上传图片文件!");var a=t.size/1024/1024<1;return a||this.$message.error("Image must smaller than 1MB!"),e&&a},handleChange1:function(t){if("done"===t.file.status&&t.file.response.data){var e=t.file.response.data;this.swiper1=e}"error"===t.file.status&&this.$message.error("上传失败")},handleChange2:function(t){if("done"===t.file.status&&t.file.response.data){var e=t.file.response.data;this.swiper2=e}"error"===t.file.status&&this.$message.error("上传失败")},save:function(){var t=this,e={configId:1,swiper1:this.swiper1,swiper2:this.swiper2};this.$message.loading("正在保存",0),Object(l["a"])({url:"/config/update",method:"post",data:e}).then((function(e){e.data.data?(t.$message.success("更新成功"),t.getData()):t.$message.error("操作失败")}))},reset:function(){this.swiper1="/swiper/img1.png",this.swiper2="/swiper/img2.png",this.save()}}},v=b,k=(a("711e"),Object(p["a"])(v,h,g,!1,null,"bf30fc94",null)),w=k.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-form",{attrs:{labelCol:{span:4},wrapperCol:{span:16}}},[a("a-form-item",{attrs:{label:"底部CopyRight"}},[a("a-input",{model:{value:t.config.copyright,callback:function(e){t.$set(t.config,"copyright",e)},expression:"config.copyright"}})],1),a("a-form-item",{attrs:{label:"底部备案号"}},[a("a-input",{model:{value:t.config.record,callback:function(e){t.$set(t.config,"record",e)},expression:"config.record"}})],1),a("a-form-item",{attrs:{label:"网站公告"}},[a("a-textarea",{attrs:{rows:4},model:{value:t.config.notice,callback:function(e){t.$set(t.config,"notice",e)},expression:"config.notice"}})],1),a("a-form-item",{attrs:{wrapperCol:{offset:4}}},[a("a-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存信息")])],1)],1)],1)},$=[],C={data:function(){return{loading:!0,config:{}}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.loading=!0,Object(l["a"])({url:"/config",method:"post"}).then((function(e){e.data.data&&(t.config=e.data.data,t.loading=!1)}))},save:function(){var t=this;this.$message.loading("正在保存",0),Object(l["a"])({url:"/config/update",method:"post",data:this.config}).then((function(e){e.data.data?(t.$message.success("更新成功"),t.getData()):t.$message.error("操作失败")}))}}},_=C,U=Object(p["a"])(_,y,$,!1,null,null,null),x=U.exports,N={components:{pageHeader:n["a"],sbLink:f,sbSwiper:w,sbMessage:x},data:function(){return{role:0,management:"系统配置",tabListNoTitle:[{key:"swiper",tab:"轮播图"},{key:"link",tab:"友情链接"},{key:"message",tab:"站点信息"}],noTitleKey:"swiper"}},methods:{onTabChange:function(t,e){this[e]=t}}},j=N,I=Object(p["a"])(j,i,s,!1,null,null,null);e["default"]=I.exports},af20:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-header-wrap"},[a("div",{staticClass:"header-content"},[a("div",[a("a-breadcrumb",[a("a-breadcrumb-item",[t._v("主页")]),a("a-breadcrumb-item",[t._v(t._s(t.management))])],1)],1),a("div",{staticClass:"header-heading"},[a("span",{staticClass:"header-heading-title"},[t._v(t._s(t.management))])]),t._t("default")],2)])])},s=[],n={props:{management:String}},o=n,r=(a("169e"),a("2877")),l=Object(r["a"])(o,i,s,!1,null,"6c3573fa",null);e["a"]=l.exports},cf8a:function(t,e,a){"use strict";a("3e31")},eb10:function(t,e,a){}}]);
//# sourceMappingURL=chunk-3cf3a768.2a0dacd5.js.map